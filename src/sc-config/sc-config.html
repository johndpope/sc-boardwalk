<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="sc-config">
  <script>
    Polymer({
      is: 'sc-config',
      properties: {
        ipfs: {
          type: Object,
          notify: true
        },
        ipfsgateway: {
          type: String,
          notify: true
        },
        web3host: {
          type: String,
          notify:true
        },
        shhhost: {
          type: String,
          notify:true
        },
        shhprefix: {
          type: String,
          notify:true
        },
        etherscanroot: {
          type: String,
          notify:true
        },
        tokencontractaddress: {
          type: String,
          notify: true
        },
        config: {
          type: Object,
          notify: true
        },
      },

      ready: function(){

        var environment = 'livenet';

        switch (environment){

            case 'livenet':

            this.set('ipfs', {
              host: 'ipfsapi.swarm.city',
              protocol: 'https',
              port : 443
            });

            this.ipfsgateway = 'https://ipfs.swarm.city/ipfs/';

            this.web3host = 'https://ethpool.swarm.city/';
            this.shhhost = 'https://eth.swarm.city/';
            this.shhprefix = 'w72-';
            this.etherscanroot = 'https://etherscan.io/';
            this.tokencontractaddress = '0xAc709FcB44a43c35F0DA4e3163b117A17F3770f5';
            this.swtconversioncontractaddress = '0x69e5da6904f73dfa845648e1991ad1dcc780f874';
            this.swttokencontractaddress = '0xb9e7f8568e08d5659f5d29c4997173d84cdf2607';
            this.dealfortwofactory = '0xF693dD8E2d623AC96d8e676B72aFF943492cD6cc';
            this.hashtagcontracts = {
//              pioneer: "0x5c21b622ac0a51d5b02060d2c483b26252939eee"
//              BoardwalkTesting: "0x5c21b622ac0a51d5b02060d2c483b26252939eee"
              BoardwalkTesting: "0xAB2b656cea9D351243A1742e5805Cfb9385feB24",
            };
            this.contractranges = {
              default: 2,
              BoardwalkTesting: 6
            };

            this.swtunits = {
              'Nema': 1,
              'Brancha': 1e3,
              'Anto' : 1e6,
              'Vespa': 1e9,
              'Orto': 1e12,
              'Pado': 1e15,
              'SWT': 1e18,
            },

            // the default unit of any input textbox
            // needs to be multiplied with to obtain the unit of token to be sent to
            // a smart contract if you're talking about tokens units.
            // so that next to the textbox you can say 'xxx SWT'
            this.swtinputunit = this.swtunits['SWT'];

            this.set('config', {
              ipfs: this.ipfs,
              web3host: this.web3host,
              shhhost: this.shhhost,
              etherscanroot: this.etherscanroot,
              tokencontractaddress: this.tokencontractaddress,
              swtconversioncontractaddress: this.swtconversioncontractaddress,
              swttokencontractaddress: this.swttokencontractaddress,
              dealfortwofactory: this.dealfortwofactory,
              shhprefix: this.shhprefix,
              hashtagcontracts : this.hashtagcontracts,
              contractranges: this.contractranges,
              swtunits: this.swtunits,
              swtinputunit: this.swtinputunit,
              hashtagcontractToName: this.hashtagcontractToName,
              contractnameToRange: this.contractnameToRange,
            });

            break;

          default:
            throw new Error('no environment defined.');
        }
      },

      hashtagcontractToName: function(address) {
        for (var key in this.hashtagcontracts) {
          if (this.hashtagcontracts.hasOwnProperty(key)) {
            if (this.hashtagcontracts[key] == address){
              return key;
            }
          }
        }
      },

      contractnameToRange: function(name) {
          for (var key in this.contractranges) {
              if (this.contractranges.hasOwnProperty(key)) {
                  if (key == name) {
                      return this.contractranges[key];
                  }
              }
          }

          return this.contractranges["default"]
      }
    });
  </script>
</dom-module>
